# 2017-08-22

 1 列表查询
 一般情况下，在系统中，列表查询，使用From表单提交。表单中，form中的
 method选择为get方法，方便分页和分页的URL中，条件的获取。同时，选择的条件不必用if...condition来判断，直接使用I('REQUEST.')即可。


# 2017-08-28

 1 优化后的代码，再次提交到，要给boss重新说下！不然，会忘记将最新的代码更新到服务器上！自己的项目要自己去跟进，直到最终上线，给产品和需求说明为止！

 2 在优化的过程中，一些函数或者方法中的参数要注意下！有时候，在优化的过程中，发现某些参数可以不要，则要及时的修改，不然会把这些参数提交到服务器上去。此外，在变量命名和赋值上，要注意提前声明和赋值，已达到最好的效果！虽然这只是细节问题，但一定要注意！毕竟细节决定成败！

 3 当对一个变量进行if....else....判断，进行复制操作时，可考虑使用?:三元符的操作，能减少代码量。


# 2017-08-30

  1 计算上个月的日期千万不能用date('Ym', strtotime('-1 month')，这种方式计算上个月的日期是用当前日期减去上个月的天数，3.31用此方法计算出来的上月日期为3.3日，还是3月。因此不用次方法。应该采用如下的方法：

    /**
     * 获取上月或下月时间
     * @param int $where -1：上月； 1：下月
     * @return string 格式：'2017-01'
     */
    static function getbeforeMonthDate($where = -1)
    {
        $Y = intval(date('Y'));
        $m = intval(date('m'));
        if ($where < 0) {
            $m = $m - 1;
            if ($m < 10) {
                if ($m == 0) {
                    $Y = $Y - 1;
                    $m = '12';
                } else {
                    $m = '0' . $m;
                }
            }
        } else {
            $m = $m + 1;
            if ($m < 10) {
                $m = '0' . $m;
            } elseif ($m > 12) {
                $Y = $Y + 1;
                $m = '0' . '1';
            }
        }
        return $Y . '-' . $m;
    }



 # 2017-09-06

 在刚开始进入公司时，犯过的错误，总结如下：
 1 代码风格不一致。(主要原因在于，当时修改别人做的模块，没有按照标准来，而是按照别人做的标准来修改，然后又从其他地方复制了代码，复制的代码跟修改的模块代码风格不一样---因为不是同一个人写的，因而出现此类问题)。以后修改代码，要按照自己的方式(代码标准)来修改。

 2 对于调用的方法，获取到的值，即使有默认值，也要做相应的判断，防止出现异常。

 3 对于方法命名，变量命名，使用小驼峰的方式。

 4 不要数字硬编码。对于用到的数字，最好数字常量化，即命名为常量，方便调用和修改。

 5 数组在使用之前，进行初始化。

 6 变量命名不要在同一行复制，会使用相同指针，在操作其中一个值的时候影响另一个值。

 7 if判断减少嵌套，使用相反条件判断直接中断代码。

 8 json_encode有中文时加入JSON_UNESCAPED_UNICODE   json_encode($data, JSON_UNESCAPED_UNICODE); //必须PHP5.4+
否则中文会转义为Unicode编码。


 # 2017-09-08

 1 ajax提交后，返回的结果中，若出现error的情况，则首先要进行判断状态码是否为401，若为401，则直接提示无操作的权限。其他情况，console.log即可。备注：401表名程序无问题，只是该用户无操作权限，出现提示，可以让用户直接找上一级开权限即可。


 # 2017-09-18

 crypt() 函数返回使用 DES、Blowfish 或 MD5 算法加密的字符串。它的语法是crypt(str,salt)，在这里，str是必填的字段，一般为字符串。salt是可选字段。用于增加被编码字符数目的字符串，以使编码更加安全。需要注意的是，如果未提供salt的参数，则每次调用这个函数时会随机生成一个。在进行密码校验，判断登录用户密码是否一致等场合，如果不提供salt参数，则会导致两次得到的结果不一致！这点需要特别注意！


  # 2017-09-19  

  今天在完成任务时，犯了一个错误：在一个页面链接的URL路径中，忽视了大小写的问题，导致整个链接的访问失败！需要记住的时，本地开发中不区分大小写，但是在Linux服务器上，是要区分大小写的！


  # 2017-10-10  

  今天的ES日志查询上线后，同事尝试着用了下，当他在某个搜索框中输入空格(左边或者右边或者同时均有空格)时，出现了结果搜索不出来的问题！查看了下代码，发现在做的过程中，接受参数后，没有对参数进行空格的过滤(特殊字符，标点均已做过滤处理)，才出现了上述的毛病！得到的经验教训是：在做项目时，遇到有输入框(即用户可以输入字符)时，除了要对字符进行过滤外，还要考虑用trim()方法进行空格过滤！这样，才能提高系统的容错率。


  # 2017-10-11  

  需要注意的是，window.location.reload()，如果这个方法没有参数，或者参数是 false，它就会用 HTTP 头 If-Modified-Since 来检测服务器上的文档是否已改变。如果文档已改变，reload（）会再次下载该文档。如果文档未改变，则该方法将从缓存中装载文档。这与用户单击浏览器的刷新按钮的效果是完全一样的。
  如果把该方法的参数设置为 true，那么无论文档的最后修改日期是什么，它都会绕过缓存，从服务器上重新下载该文档。这与用户在单击浏览器的刷新按钮时按住 Shift 健的效果是完全一样。  


   # 2017-10-25

   表格中显示的内容不是中文而是纯数字或英文时，默认是不换行的（中文默认换行），此时即使table的宽度设为100%时td也不会自动换行。所以需要设置一下，让表格内容自动换行。设置如下：    
   #####  style="word-wrap:break-word; word-break:break-all;"
   
   [参考地址1](http://blog.csdn.net/who_is_xiaoming/article/details/52807212)              
   [参考地址2](http://blog.csdn.net/XIAOZHUXMEN/article/details/51068305)       
   [参考地址3](http://blog.csdn.net/whq19890827/article/details/78584931)               
   

   # 2017-11-06
   
   前台select下拉表单，点击选择某一选项后，在前台可以不用if condition来进行比较，将选择的值从控制器中传入到前台，直接赋值给select选择即可。避免写逻辑判断之类的，方便操作。  


   # 2017-11-08

   在批量solr查询中,传入的参数有where条件，起始页，页的大小等条件。其中，起始页不能从0开始，因为在随后的module层查询中，会对这个起始页和页的大小进行empty判断，只有当这两个条件均不为空时，分页条件才会加上。如果为空，则会执行默认条件，最终只会返回10条结果！


   # 2017-11-17 

   使用空字符串的时候，要注意'' 和 ' ',这两个不是同一个含义，在empty下，一个为true，一个为false  
   此外，在使用try---catch时候，要注意当出现异常时，程序会直接跳转到catch里面，而不会一步步往下执行。因此打印当然会失败！！！

   
   # 2017-11-20

   在html页面中，数字和字母默认是不换行的！需要设置td或者div的style="word-break:break-all;"这样才能换行。至于有人说，style设置为word-wrap: break-word;能够换行，但亲自尝试过后，发现不能！所以很多事情还是要去实践，别人说的不一定对或者说不一定适合你的场景，因此要根据实际情况来使用！  


    # 2017-11-25

    在写多个条件判断的搜索中，尤其是涉及到多张表多个字段的时候，要注意把多个字段融合在一起进行查询！这样既能减少代码的书写量，又便于调试和查找代码的问题！！！尤其 要注意的是，不要分开来写！